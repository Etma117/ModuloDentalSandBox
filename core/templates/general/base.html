{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>  
    {% block titulo %}
    Dental Smile 
    {% endblock titulo %}
</title>

  {% block link1 %}

  {% endblock link1 %}
  {% block linkprincipal %}

  <!-- Google Font: Source Sans Pro -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">

  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="{% static "plugins/fontawesome-free/css/all.min.css" %}">
  <!-- Ionicons -->
  <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
  <!-- Tempusdominus Bootstrap 4 -->
  <link rel="stylesheet" href="{% static "plugins/tempusdominus-bootstrap-4/css/tempusdominus-bootstrap-4.min.css" %}">
  <!-- iCheck -->
  <link rel="stylesheet" href="{% static "plugins/icheck-bootstrap/icheck-bootstrap.min.css" %}">
  <!-- JQVMap -->
  <link rel="stylesheet" href="{% static "plugins/jqvmap/jqvmap.min.css" %}">
  <!-- Theme style -->
  <link rel="stylesheet" href="{% static "dist/css/adminlte.min.css" %}?v1.1">
  <!-- overlayScrollbars -->
  <link rel="stylesheet" href="{% static "plugins/overlayScrollbars/css/OverlayScrollbars.min.css" %}">
  <!-- Daterange picker -->
  <link rel="stylesheet" href="{% static "plugins/daterangepicker/daterangepicker.css" %}">
  <!-- summernote -->
  <link rel="stylesheet" href="{% static "plugins/summernote/summernote-bs4.min.css" %}">
  <script src="https://kit.fontawesome.com/78350df3d2.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href=" {% static 'css/style.css' %}?v1.829q">
  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css">
  <link href="https://cdn.datatables.net/v/bs5/jq-3.7.0/jszip-3.10.1/dt-1.13.6/b-2.4.2/b-html5-2.4.2/b-print-2.4.2/datatables.min.css" rel="stylesheet">

{% endblock linkprincipal %}
  {% block link %}{% endblock link %}
</head>
<body class="hold-transition sidebar-mini layout-fixed">


  <div class="wrapper">

  <!-- Preloader -->
 {% include "includes/preloader.html" %}

  <!-- Navbar -->
  <nav class="main-header navbar navbar-expand navbar-white navbar-light custom-navbar">
    <!-- Left navbar links -->
   {% include "includes/navbar.html" %}

    <!-- Right navbar links -->
    <ul class="navbar-nav ml-auto">
      <!-- Navbar Search -->
      <li class="nav-item">
        <a class="nav-link" data-widget="navbar-search" href="#" role="button">
          <i class="fas fa-search"></i>
        </a>
        <div class="navbar-search-block">
          <form class="form-inline">
            <div class="input-group input-group-sm">
              <input class="form-control form-control-navbar" type="search" placeholder="Search" aria-label="Search">
              <div class="input-group-append">
                <button class="btn btn-navbar" type="submit">
                  <i class="fas fa-search"></i>
                </button>
                <button class="btn btn-navbar" type="button" data-widget="navbar-search">
                  <i class="fas fa-times"></i>
                </button>
              </div>
            </div>
          </form>
        </div>
      </li>

      <!-- Messages Dropdown Menu -->

      <!-- Notifications Dropdown Menu -->
      <!-- <li class="nav-item dropdown">
        <a class="nav-link" data-toggle="dropdown" href="#">
          <i class="far fa-bell"></i>
          <span class="badge badge-warning navbar-badge">15</span>
        </a>
        <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
          <span class="dropdown-item dropdown-header">15 Notifications</span>
          <div class="dropdown-divider"></div>
          <a href="#" class="dropdown-item">
            <i class="fas fa-envelope mr-2"></i> 4 new messages
            <span class="float-right text-muted text-sm">3 mins</span>
          </a>
          <div class="dropdown-divider"></div>
          <a href="#" class="dropdown-item">
            <i class="fas fa-users mr-2"></i> 8 friend requests
            <span class="float-right text-muted text-sm">12 hours</span>
          </a>
          <div class="dropdown-divider"></div>
          <a href="#" class="dropdown-item">
            <i class="fas fa-file mr-2"></i> 3 new reports
            <span class="float-right text-muted text-sm">2 days</span>
          </a>
          <div class="dropdown-divider"></div>
          <a href="#" class="dropdown-item dropdown-footer">See All Notifications</a>
        </div>
      </li> -->
      <li class="nav-item">
        <a class="nav-link" data-widget="fullscreen" href="#" role="button">
          <i class="fas fa-expand-arrows-alt"></i>
        </a>
      </li>
      <li class="nav-item dropdown no-arrow">
        <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button"
            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <span class="mr-2 d-none d-lg-inline text-gray-600 ">{{ user.username }} </span>
            
        </a>
        <!-- Dropdown - User Information -->
        <div class="dropdown-menu dropdown-menu-right shadow animated--grow-in"
            aria-labelledby="userDropdown">
            <a class="dropdown-item" href="#">
                <i class="fas fa-user fa-sm fa-fw mr-2 text-gray-400"></i>
                <strong style='color:#A3835F;'>Usuario: </strong>{{ user.username }}
            </a>
            <a class="dropdown-item" href="#">
              <i class="fas fa-users fa-sm fa-fw mr-2 text-gray-400"></i>
                <strong style='color:#A3835F;'>Grupo: </strong>{{ user.groups.first.name }}
            </a>
            <a class="dropdown-item" href="#">
              <i class="fas fa-map-marker-alt fa-sm fa-fw mr-2 text-gray-400"></i>
              <strong style='color:#A3835F;'>Clinica: </strong>
              {% if user.is_in_special_groups %}
                  Todas las secciones
              {% else %}
                  {% for seccion in user.seccion.all %}
                      {{ seccion.nombre }}
                      {% if not forloop.last %}, {% endif %}
                  {% empty %}
                      Ninguna
                  {% endfor %}
              {% endif %}
          </a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="{% url 'exit' %}">
                <i class="fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"></i>
                Cerrar sesión
            </a>
        </div>
    </li>   
    </ul>
  </nav>
  <!-- /.navbar -->

  <!-- Main Sidebar Container -->
  <aside class="main-sidebar sidebar-dark-primary elevation-4 custom-sidebar">
    <!-- Brand Logo -->
    {% include "includes/brandlogo.html" %}
    <!-- Sidebar -->
    <div class="sidebar">
      <!-- Sidebar user panel (optional) -->

    {% include "includes/side_bar_user_panel.html" %}
      


      <!-- Sidebar Menu -->
      <nav class="mt-2">
        <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
          <!-- Add icons to the links using the .nav-icon class
               with font-awesome or any other icon font library -->


        <li class="nav-item">
                <a href="{% url "home" %}" class="nav-link  {% if navbar == 'home' %}active first-li{% endif %}">  
                  <i class="nav-icon fas fa-th"></i>
                  <p>
                  Menú
                  </p>
                </a>
        </li>

       
    
          <li class="nav-header">Gestión de Usuarios</li>
          <li class="nav-item {% if navbar == 'gestion_usuarios' %}menu-is-opening menu-open{% endif %}">
            <a href="#" class="nav-link   {% if navbar == 'gestion_usuarios' %}active first-li{% endif %}">  
              <i class="nav-icon fas fa-users"></i>
              <p>
                Usuarios
                <i class="right fas fa-angle-left"></i>
              </p>
            </a>
            <ul class="nav nav-treeview">
      
              <li class="nav-item">
                <a href="{% url 'register_user_dentista'  %}" class="nav-link {% if seccion == 'ver_dentistas' %}active {% endif %}">
                  <i class="far fa-circle nav-icon"></i>
                  <p>Dentista</p>
                </a>
              </li>


              
              <li class="nav-item">
                <a href="{% url "UserCreateViewAsistente" %}" class="nav-link  {% if seccion == 'ver_asistente' %}active {% endif %} ">
                  <i class="far fa-circle nav-icon"></i>
                  <p>Asistente</p>
                </a>
              </li>
              <li class="nav-item">
                <a href="{% url "UserCreateViewPaciente" %}" class="nav-link  {% if seccion == 'ver_pacientes' %}active {% endif %}">
                  <i class="far fa-circle nav-icon"></i>
                  <p>Paciente</p>
                </a>
              </li>

              {% if es_administrador %}
                  <li class="nav-item">
                    <a href="{% url "UserCreateViewResponsable" %}" class="nav-link  {% if seccion == 'ver_responsable' %}active {% endif %}">
                      <i class="far fa-circle nav-icon"></i>
                      <p>Responsable</p>
                    </a>
                  </li>
              {% endif %}
   

              
            </ul>
          </li> 
          {% if es_administrador %}    
          <li class="nav-header">Gestion de Clinicas </li>
          <li class="nav-item">
            <a href="#" class="nav-link  first-li">  
              <i class="nav-icon fas fa-hospital"></i>
              <p>
                Clinicas
              </p>
            </a>
          </li>  
          {% endif %}
          <li class="nav-header">Gestión de Citas</li>

          <li class="nav-header">Gestión de Citas</li>
          <li class="nav-item">
            <a href="#" class="nav-link  first-li">  
              <i class="nav-icon fas fa-calendar"></i>
              <p>
                Citas
                <i class="right fas fa-angle-left"></i>
              </p>
            </a>
            <ul class="nav nav-treeview">
              <li class="nav-item">
                <a href="#" class="nav-link  second-li"> 
                  <i class="far fa-circle nav-icon"></i>
                  <p>Citas Pendientes</p>
                </a>
              </li>
              <li class="nav-item">
                <a href="./index2.html" class="nav-link">
                  <i class="far fa-circle nav-icon"></i>
                  <p>Citas Pasadas</p>
                </a>
              </li>
              <li class="nav-item">
                <a href="./index3.html" class="nav-link">
                  <i class="far fa-circle nav-icon"></i>
                  <p>Nueva Cita</p>
                </a>
              </li>
            </ul>
          </li>

          <li class="nav-item">
            <a href="#" class="nav-link  first-li">  
              <i class="nav-icon fas fa-history"></i>
              <p>
                Historial de Citas
                <i class="right fas fa-angle-left"></i>
              </p>
            </a>
            <ul class="nav nav-treeview">
              <li class="nav-item">
                <a href="./index2.html" class="nav-link">
                  <i class="far fa-circle nav-icon"></i>
                  <p>Filtrar por Dentista</p>
                </a>
              </li>
              <li class="nav-item">
                <a href="./index2.html" class="nav-link">
                  <i class="far fa-circle nav-icon"></i>
                  <p>Filtrar por Paciente</p>
                </a>
              </li>
            </ul>
          </li>

          <li class="nav-header">Gestión de Pacientes </li>
          <li class="nav-item">
            <a href="#" class="nav-link  first-li">  
              <i class="nav-icon fas fa-users"></i>
              <p>
                Pacientes
                <i class="right fas fa-angle-left"></i>
              </p>
            </a>
            <ul class="nav nav-treeview">
              <li class="nav-item">
                <a href="./index2.html" class="nav-link">
                  <i class="far fa-circle nav-icon"></i>
                  <p>Historial Médico</p>
                </a>
              </li>
              <li class="nav-item">
                <a href="./index2.html" class="nav-link">
                  <i class="far fa-circle nav-icon"></i>
                  <p>Tratamientos Anteriores</p>
                </a>
              </li>
              <li class="nav-item">
                <a href="./index2.html" class="nav-link">
                  <i class="far fa-circle nav-icon"></i>
                  <p>Detalles de Contacto</p>
                </a>
              </li>
            </ul>
          </li>
          <li class="nav-header">Gestión de Dentistas </li>
          <li class="nav-item">
            <a href="#" class="nav-link  first-li">  
              <i class="nav-icon fas fa-user-md"></i>
              <p>
                Dentistas
                <i class="right fas fa-angle-left"></i>
              </p>
            </a>
            <ul class="nav nav-treeview">
              <li class="nav-item">
                <a href="./index2.html" class="nav-link">
                  <i class="far fa-circle nav-icon"></i>
                  <p>Especializaciones</p>
                </a>
              </li>
              <li class="nav-item">
                <a href="./index2.html" class="nav-link">
                  <i class="far fa-circle nav-icon"></i>
                  <p>Horarios Individuales</p>
                </a>
              </li>
            </ul>
          </li>

          

          <li class="nav-item">
            <a href="#" class="nav-link  first-li">  
              <i class="nav-icon fas fa-clock"></i>
              <p>
                Horarios
                <i class="right fas fa-angle-left"></i>
              </p>
            </a>
            <ul class="nav nav-treeview">
              <li class="nav-item">
                <a href="./index2.html" class="nav-link">
                  <i class="far fa-circle nav-icon"></i>
                  <p>Días Laborables</p>
                </a>
              </li>
              <li class="nav-item">
                <a href="./index2.html" class="nav-link">
                  <i class="far fa-circle nav-icon"></i>
                  <p>Intervalos de Tiempo</p>
                </a>
              </li>
            </ul>
          </li>

          <li class="nav-item">
            <a href="#" class="nav-link  first-li">  
              <i class="nav-icon fas fa-medkit"></i>
              <p>
                Tratamientos
                <i class="right fas fa-angle-left"></i>
              </p>
            </a>
            <ul class="nav nav-treeview">
              <li class="nav-item">
                <a href="./index2.html" class="nav-link">
                  <i class="far fa-circle nav-icon"></i>
                  <p>Tipos de Tratamientos</p>
                </a>
              </li>
              <li class="nav-item">
                <a href="./index2.html" class="nav-link">
                  <i class="far fa-circle nav-icon"></i>
                  <p>Detalles de Tratamientos</p>
                </a>
              </li>
            </ul>
          </li>

          

          <li class="nav-item">
            <a href="#" class="nav-link  first-li">  
              <i class="nav-icon fas fa-chart-bar"></i>
              <p>
                Estadísticas y Reportes
                <i class="right fas fa-angle-left"></i>
              </p>
            </a>
            <ul class="nav nav-treeview">
              <li class="nav-item">
                <a href="./index2.html" class="nav-link">
                  <i class="far fa-circle nav-icon"></i>
                  <p>Reportes Mensuales</p>
                </a>
              </li>
              <li class="nav-item">
                <a href="./index2.html" class="nav-link">
                  <i class="far fa-circle nav-icon"></i>
                  <p>Estadísticas de Pacientes</p>
                </a>
              </li>
            </ul>
          </li>



          <li class="nav-item">
            <a href="#" class="nav-link  first-li">  
              <i class="nav-icon fas fa-file-invoice-dollar"></i>
              <p>
                Facturación y Pagos
                <i class="right fas fa-angle-left"></i>
              </p>
            </a>
            <ul class="nav nav-treeview">
              <li class="nav-item">
                <a href="./index2.html" class="nav-link">
                  <i class="far fa-circle nav-icon"></i>
                  <p>Programar Notificaciones</p>
                </a>
              </li>
            </ul>
          </li>


          



          <li class="nav-header">Recursos y Materiales</li>
          <li class="nav-item">
            <a href="#" class="nav-link  first-li">  
              <i class="nav-icon fas fa-archive"></i>
              <p>
                Recursos y Materiales
                <i class="right fas fa-angle-left"></i>
              </p>
            </a>
            <ul class="nav nav-treeview">
              <li class="nav-item">
                <a href="./index2.html" class="nav-link">
                  <i class="far fa-circle nav-icon"></i>
                  <p>Programar Notificaciones</p>
                </a>
              </li>
            </ul>
          </li>

          
  
          


          <li class="nav-header">Gestión de Dentistas </li>

          <li class="nav-item">
            <a href="#" class="nav-link  first-li">  
              <i class="nav-icon fas fa-calendar-check"></i>
              <p>
                Solicitud de Vacaciones y Licencias
                <i class="right fas fa-angle-left"></i>
              </p>
            </a>
            <ul class="nav nav-treeview">
              <li class="nav-item">
                <a href="./index2.html" class="nav-link">
                  <i class="far fa-circle nav-icon"></i>
                  <p>Programar Notificaciones</p>
                </a>
              </li>
            </ul>
          </li>
          
          <li class="nav-item">
            <a href="#" class="nav-link  first-li">  
              <i class="nav-icon fas fa-hospital-alt"></i>
              <p>
                Gestión de Salas y Equipos
                <i class="right fas fa-angle-left"></i>
              </p>
            </a>
            <ul class="nav nav-treeview">
              <li class="nav-item">
                <a href="./index2.html" class="nav-link">
                  <i class="far fa-circle nav-icon"></i>
                  <p>Programar Notificaciones</p>
                </a>
              </li>
            </ul>
          </li>





        </ul>
      </nav>
      <!-- /.sidebar-menu -->
    </div>
    <!-- /.sidebar -->
  </aside>

  <!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <div class="content-header">
      <div class="container-fluid">
        <div class="row mb-2">
          <div class="col-sm-6">
            <h1 class="m-0">
              {% block dashboard %}
              
              
              {% endblock dashboard %}



            </h1>
          </div><!-- /.col -->
          <div class="col-sm-6">
            <ol class="breadcrumb float-sm-right">
              {% block dashboard1 %}
              
              <li class="breadcrumb-item"><a href="#">Home</a></li>
              <li class="breadcrumb-item active">Dashboard v1</li>
              {% endblock dashboard1 %}
      
            </ol>
          </div><!-- /.col -->
        </div><!-- /.row -->
      </div><!-- /.container-fluid -->
    </div>
    <!-- /.content-header -->

    <!-- Main content -->
    <section class="content">
      <div class="container-fluid">
        
      {% block content %}
      
      
      
      {% endblock content %}

      {% block contenido %}


      
      {% endblock contenido %}
        
      </div><!-- /.container-fluid -->
    </section>
    <!-- /.content -->
  </div>
  <!-- /.content-wrapper -->
  <footer class="main-footer">
    <strong>Copyright &copy; 2014-2021 <a href="https://adminlte.io">AdminLTE.io</a>.</strong>
    All rights reserved.
    <div class="float-right d-none d-sm-inline-block">
      <b>Version</b> 3.2.0
    </div>
  </footer>

  <!-- Control Sidebar -->
  <aside class="control-sidebar control-sidebar-dark">
    <!-- Control sidebar content goes here -->
  </aside>
  <!-- /.control-sidebar -->
</div>
<!-- ./wrapper -->

<!-- jQuery -->
{% block script1 %}
<script src="{% static "plugins/jquery/jquery.min.js" %}"></script>
<!-- jQuery UI 1.11.4 -->
<script src="{% static "plugins/jquery-ui/jquery-ui.min.js" %}"></script>
<script src="{% static "js/jquery-ui.min.js" %}"></script>

<!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
<script>
  $.widget.bridge('uibutton', $.ui.button)
</script>
<!-- Bootstrap 4 -->
<script src="{% static 'js/bootstrap.bundle.min.js' %}"></script>
<!-- ChartJS -->
<script src="{% static "plugins/chart.js/Chart.min.js" %}"></script>
<!-- Sparkline -->
<script src="{% static "plugins/sparklines/sparkline.js" %}"></script>
<!-- JQVMap -->
<script src="{% static "plugins/jqvmap/jquery.vmap.min.js" %}"></script>
<script src="{% static "plugins/jqvmap/maps/jquery.vmap.usa.js" %}"></script>
<!-- jQuery Knob Chart -->
<script src="{% static "plugins/jquery-knob/jquery.knob.min.js" %}"></script>
<!-- daterangepicker -->
<script src="{% static "plugins/moment/moment.min.js" %}"></script>
<script src="{% static "plugins/daterangepicker/daterangepicker.js" %}"></script>
<!-- Tempusdominus Bootstrap 4 -->
<script src="{% static "plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js" %}"></script>
<!-- Summernote -->
<script src="{% static "plugins/summernote/summernote-bs4.min.js" %}"></script>
<!-- overlayScrollbars -->
<script src="{% static "plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js" %}"></script>
<!-- AdminLTE App -->
<script src="{% static "dist/js/adminlte.js" %}"></script>
<script src="{% static 'js/demo.js' %}"></script>
<script src="{% static 'js/Chart.min.js' %}"></script>

<script src="{% static "dist/js/pages/dashboard.js" %}"></script>


<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>  

<!-- ----------------DATATABLES-------------------------- -->
<script src="https://code.jquery.com/jquery-3.7.0.js"></script>
<script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/pdfmake.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/vfs_fonts.js"></script>
<script src="https://cdn.datatables.net/v/bs5/jq-3.7.0/jszip-3.10.1/dt-1.13.6/b-2.4.2/b-html5-2.4.2/b-print-2.4.2/datatables.min.js"></script>
<script>
  $("#tabla").DataTable({
    {% block filtro %}

    {% endblock filtro %}
      paging: true,
      lengthMenu: [5, 10, 25, 50, 100], // Cambiamos el menú de longitud para incluir 5 entradas
      pageLength:5,
      lengthChange :true,
      autoWidth: true,
      searching: true,
      bInfo: true,
      bSort: true,
      {% block dom %}
      dom: 'Bfrltip',
      {% endblock dom %}
      buttons:[
        {% block datatable %}

        
        {% endblock datatable %}        
        
        {% block datatable2 %}
        {extend: 'copy',
        text: '<i class="fas fa-clone"></i>',
        class: 'btn btn-secondary',
        titleAttr: 'Copiar a Documento',
        exportOptions:{
            columns:[0,1,2]
        }
        },
        {extend: 'excel',
        text: '<i class="fas fa-file-excel"></i>',
        class: 'btn btn-secondary',
        titleAttr: 'Exportar a Excel',
        exportOptions:{
            columns:[0,1,2]
        }
        },
        {extend: 'print',
        text: '<i class="fas fa-print"></i>',
        class: 'btn btn-secondary',
        titleAttr: 'Imprimir',
        exportOptions:{
            columns:[0,1,2]
        }
        },
        {% endblock datatable2 %}
      ],
      "language": {
                  "sProcessing": "Procesando...",
                  "sLengthMenu": "Mostrar _MENU_ Registros",
                  "sZeroRecords": "No se encontraron resultados",
                  "sEmptyTable": "Ningún dato disponible en esta tabla",
                  "sInfo": "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",
                  "sInfoEmpty": "Mostrando registros del 0 al 0 de un total de 0 registros",
                  "sInfoFiltered": "(filtrado de un total de _MAX_ Registros)",
                  "sSearch": "Buscar:",
                  "sInfoThousands": ",",
                  "sLoadingRecords": "Cargando...",
                  "oPaginate": {
                      "sFirst": "Primero",
                      "sLast": "Último",
                      "sNext": "Siguiente",
                      "sPrevious": "Anterior"
                  },
                  "oAria": {
                      "sSortAscending": ": Activar para ordenar la columna de manera ascendente",
                      "sSortDescending": ": Activar para ordenar la columna de manera descendente"
                  },
                  "buttons": {
                      "copy": "Copiar",
                      "colvis": "Visibilidad"
                  }
              },

  });
  
</script>

    
  {% block script  %}
    
  {% endblock script  %}

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>






{% endblock script1 %}


{% block script2 %}

{% endblock script2 %}

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<script>
  $(function() {
    setTimeout(function() {
      var Toast = Swal.mixin({
        toast: true,
        position: 'top-end',
        showConfirmButton: false,
        timer: 3000
      });

      {% for message in messages %}
        {% if message.tags == "success" %}
          Toast.fire({
            icon: 'success',
            title: '{{ message }}'
          });
        {% elif message.tags == "error" %}
          Swal.fire({
            icon: 'error',
            title: 'Oops...',
            text: "{{ message }}",
            confirmButtonColor: '#2A4B41'
          });
          {% elif message.tags == "warning" %}
          Swal.fire({
            icon: 'warning',
            title: 'Acción denegada',
            text: "{{ message }}",
            confirmButtonColor: '#2A4B41'
          });
        {% endif %}
      {% endfor %}
    }, 500); // 500 milisegundos (medio segundo)
  });
</script>

<!-- En tu plantilla base o donde sea necesario -->
{% comment %} <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script> {% endcomment %}

<script>
  // Detectar inactividad y mostrar un mensaje con SweetAlert
  $(document).ready(function() {
    var inactivityTimeout = 600000;  // 10 minutos en milisegundos

    function showSessionExpiredMessage() {
      Swal.fire({
        icon: 'warning',
        title: 'Tu sesión ha expirado',
        text: 'Por favor, vuelve a iniciar sesión.',
        confirmButtonText: 'OK',
        allowOutsideClick: false,
      }).then((result) => {
        if (result.isConfirmed) {
          window.location.href = "{% url 'login' %}";  // Redirigir a la página de inicio de sesión
        }
      });
    }

    var timeout;

    function resetTimeout() {
      clearTimeout(timeout);
      timeout = setTimeout(showSessionExpiredMessage, inactivityTimeout);
    }

    $(document).on('mousemove keydown scroll', resetTimeout);

    resetTimeout();  // Iniciar el temporizador cuando la página se carga
  });

  function mostrarAlertaActualizacion() {
    Swal.fire({
        title: 'En Desarrollo',
        text: 'Estamos trabajando en esta actualización.',
        icon: 'info',
        confirmButtonText: 'Entendido'
    });
}

document.addEventListener('DOMContentLoaded', function () {
  // Función para determinar si el sidebar está cerrado
  function isSidebarClosed() {
      var bodyClassList = document.body.classList;
      return bodyClassList.contains('sidebar-closed') || bodyClassList.contains('sidebar-collapse');
  }

  // Obtiene la imagen del usuario y el div de editar perfil
  var userImage = document.querySelector('.user-picture');
  var editProfileDiv = document.querySelector('.editar');

  function updateUI() {
      // Actualiza el tamaño de la imagen
      if (userImage) {
          if (isSidebarClosed()) {
              userImage.classList.replace('user-picture-large', 'user-picture-small');
              editProfileDiv.classList.remove('info');
          } else {
              userImage.classList.replace('user-picture-small', 'user-picture-large');
              editProfileDiv.classList.add('info');
          }
      }
  }

  // Configura el estado inicial del UI
  updateUI();

  // Escucha los cambios en el estado del sidebar
  var sidebarToggle = document.querySelector('[data-widget="pushmenu"]');
  if (sidebarToggle) {
      sidebarToggle.addEventListener('click', function () {
          setTimeout(updateUI, 250); // Ajusta este tiempo si es necesario
      });
  }
});


</script>
</body>
</html>
